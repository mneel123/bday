<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Birthday Wish for My Love</title>
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    html, body {
      height: 100%;
      width: 100%;
      background: black;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      color: white;
      overflow: hidden;
    }
    .page {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      width: 100vw;
      position: absolute;
      top: 0; left: 0;
      padding: 20px;
    }
    .active {
      display: flex;
      animation: fadeIn 1s ease forwards;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    #page1 {
      background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
      overflow: hidden;
    }
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
      animation: twinkle 3s infinite alternate;
    }
    @keyframes twinkle {
      0% {opacity: 0.2;}
      100% {opacity: 1;}
    }
    #moon {
      position: absolute;
      top: 15vh;
      right: 10vw;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle at 30% 30%, #f0e9d2, #c9c9c9);
      border-radius: 50%;
      box-shadow: inset 15px 15px 15px #d9d9d9, inset -15px -15px 15px #b0b0b0;
      z-index: 5;
    }
    #meteor {
      position: absolute;
      top: 20vh;
      left: -100px;
      width: 80px;
      height: 2px;
      background: linear-gradient(90deg, white, transparent);
      filter: drop-shadow(0 0 3px white);
      transform: rotate(40deg);
      animation: meteorMove 4s linear forwards;
      z-index: 6;
    }
    @keyframes meteorMove {
      0% { left: -100px; top: 20vh; opacity: 1; }
      100% { left: 110vw; top: 80vh; opacity: 0; }
    }

    #clickMeBtn {
      position: relative;
      background: linear-gradient(45deg, #ff758c, #ff7eb3);
      border: none;
      border-radius: 40px;
      padding: 15px 50px;
      font-size: 1.8rem;
      font-weight: bold;
      color: white;
      cursor: pointer;
      overflow: visible;
      box-shadow: 0 5px 15px rgba(255, 126, 179, 0.7);
      transition: transform 0.3s ease;
    }
    #clickMeBtn:hover {
      transform: translateY(-8px) rotate(-5deg);
    }
    #clickMeBtn::before {
      content: "‚úàÔ∏è";
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%) rotate(10deg);
      font-size: 1.6rem;
      animation: planeFly 2s infinite alternate ease-in-out;
    }
    @keyframes planeFly {
      0% { left: 15px; transform: translateY(-50%) rotate(10deg); }
      100% { left: 25px; transform: translateY(-60%) rotate(0deg); }
    }

    #page2 {
      background: #2c3e50;
    }
    #bubuGif {
      width: 200px;
      height: 200px;
      animation: bounceIn 1s ease forwards;
    }
    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      60% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); }
    }
    .dialog {
      margin-top: 20px;
      max-width: 280px;
      background: #ffe4e1;
      color: #333;
      border-radius: 15px;
      padding: 15px 20px;
      font-size: 1.3rem;
      font-weight: bold;
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
      position: relative;
      animation: fadeInUp 1s ease forwards 1s;
    }
    .dialog::after {
      content: "";
      position: absolute;
      bottom: 100%;
      left: 25px;
      border-width: 10px;
      border-style: solid;
      border-color: transparent transparent #ffe4e1 transparent;
    }
    @keyframes fadeInUp {
      from {opacity: 0; transform: translateY(20px);}
      to {opacity: 1; transform: translateY(0);}
    }

    #page3 {
      background: #551a8b;
      overflow-y: auto;
      padding-bottom: 40px;
    }

    #envelopeContainer {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      cursor: pointer;
      padding: 40px 0;
    }

    #envelope {
      position: relative;
      width: 250px;
      height: 150px;
      background: #ffb6c1;
      border-radius: 10px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.3);
      transform-style: preserve-3d;
      transition: transform 1s ease;
      perspective: 1000px;
    }

    #envelope::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 250px;
      height: 75px;
      background: #ff69b4;
      border-bottom: 2px solid #fff;
      transform-origin: top;
      transition: transform 1s ease;
      z-index: 2;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }

    #envelope.open::before {
      transform: rotateX(-150deg);
    }

    #heartSticker {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2rem;
      z-index: 3;
    }

    #loveLetter {
      margin-top: 20px;
      width: 90%;
      max-width: 350px;
      max-height: 400px;
      background: repeating-linear-gradient(#fff0f5, #fff0f5 29px, #ffe4f8 30px);
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(255, 105, 180, 0.7);
      padding: 25px;
      font-size: 1.2rem;
      line-height: 1.6;
      color: #551a8b;
      font-family: 'Georgia', serif;
      text-align: left;
      display: none;
      overflow-y: auto;
    }

    #toPage4 {
      margin-top: 20px;
      display: none;
      background: linear-gradient(45deg, #ff758c, #ff7eb3);
      border: none;
      border-radius: 50px;
      padding: 12px 50px;
      font-size: 1.3rem;
      font-weight: 700;
      color: white;
      cursor: pointer;
    }

    #page4 {
      background: #0a0a2a;
      flex-direction: column;
      justify-content: flex-start;
      overflow: hidden;
      padding-top: 40px;
    }

    #fireworksCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 1;
    }

    #finalWish {
      font-size: 2.5rem;
      font-weight: 900;
      text-align: center;
      margin-bottom: 20px;
      color: #ff69b4;
      z-index: 10;
    }
    #finalWish span {
      color: #fff0f5;
    }

    #photosContainer {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      z-index: 10;
    }
    #photosContainer img {
      border-radius: 10%;
      width: 160px;
      height: 220px;
      object-fit: cover;
      transition: transform 0.3s ease;
    }
    #photosContainer img:hover {
      transform: scale(1.1);
    }

    .nextBtn {
      margin-top: 30px;
      background: linear-gradient(45deg, #ff758c, #ff7eb3);
      border: none;
      border-radius: 50px;
      padding: 12px 50px;
      font-size: 1.3rem;
      font-weight: 700;
      color: white;
      cursor: pointer;
    }

  </style>
</head>
<body>

<div id="page1" class="page active">
  <div class="star" style="top:10%; left:15%; width:4px; height:4px;"></div>
  <div class="star" style="top:20%; left:70%; width:3px; height:3px;"></div>
  <div class="star" style="top:30%; left:50%; width:2px; height:2px;"></div>
  <div class="star" style="top:40%; left:80%; width:4px; height:4px;"></div>
  <div class="star" style="top:60%; left:20%; width:3px; height:3px;"></div>
  <div class="star" style="top:70%; left:60%; width:2px; height:2px;"></div>
  <div id="moon"></div>
  <div id="meteor"></div>
  <button id="clickMeBtn">Click Me</button>
</div>

<div id="page2" class="page">
  <img id="bubuGif" src="https://media.tenor.com/sseeyall-bubu-dudu.gif" alt="Dudu Bubu Birthday" />
  <div class="dialog">Hey Bubu Rani! Happy Birthday to the most amazing person in my life! üéÇüéâ</div>
  <button class="nextBtn" id="toPage3">Open Your Gift</button>
</div>

<div id="page3" class="page">
  <div id="envelopeContainer">
    <div id="envelope">
      <div id="heartSticker">‚ù§Ô∏è</div>
    </div>
  </div>
  <div id="loveLetter">
    My Dearest Love,<br/><br/>
    On your special day, I want you to know how deeply I cherish you.<br/>
    You light up my world more than the brightest star.<br/>
    Here's to many more birthdays together.<br/><br/>
    With all my heart, <br/>Yours forever.
  </div>
  <button id="toPage4">See Fireworks & Wishes</button>
</div>

<div id="page4" class="page">
  <canvas id="fireworksCanvas"></canvas>
  <h1 id="finalWish">Happy Birthday, <span>My Love! ‚ù§Ô∏è</span></h1>
  <div id="photosContainer">
    <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Her Photo" />
    <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Your Photo" />
  </div>
</div>

<audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<script>
  const page1 = document.getElementById('page1');
  const page2 = document.getElementById('page2');
  const page3 = document.getElementById('page3');
  const page4 = document.getElementById('page4');

  const clickMeBtn = document.getElementById('clickMeBtn');
  const toPage3Btn = document.getElementById('toPage3');
  const toPage4Btn = document.getElementById('toPage4');

  const envelope = document.getElementById('envelope');
  const loveLetter = document.getElementById('loveLetter');
  const bgMusic = document.getElementById('bgMusic');

  function playMusic() {
    bgMusic.play().catch(() => {});
  }

  clickMeBtn.addEventListener('click', () => {
    playMusic();
    page1.classList.remove('active');
    page2.classList.add('active');
  });

  toPage3Btn.addEventListener('click', () => {
    page2.classList.remove('active');
    page3.classList.add('active');
  });

  let envelopeOpen = false;
  envelope.addEventListener('click', () => {
    envelopeOpen = !envelopeOpen;
    if (envelopeOpen) {
      envelope.classList.add('open');
      loveLetter.style.display = 'block';
      toPage4Btn.style.display = 'inline-block';
    } else {
      envelope.classList.remove('open');
      loveLetter.style.display = 'none';
      toPage4Btn.style.display = 'none';
    }
  });

  toPage4Btn.addEventListener('click', () => {
    page3.classList.remove('active');
    page4.classList.add('active');
  });

  // Fireworks canvas
  const canvas = document.getElementById('fireworksCanvas');
  const ctx = canvas.getContext('2d');
  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  class Particle {
    constructor(x, y, color, angle, speed) {
      this.x = x;
      this.y = y;
      this.color = color;
      this.angle = angle;
      this.speed = speed;
      this.radius = 3;
      this.life = 80;
      this.gravity = 0.02;
      this.alpha = 1;
    }
    update() {
      this.x += this.speed * Math.cos(this.angle);
      this.y += this.speed * Math.sin(this.angle);
      this.speed *= 0.95;
      this.y += this.gravity;
      this.life--;
      this.alpha = this.life / 80;
      this.radius *= 0.96;
    }
    draw(ctx) {
      ctx.save();
      ctx.globalAlpha = this.alpha;
      ctx.beginPath();
      ctx.fillStyle = this.color;
      ctx.shadowColor = this.color;
      ctx.shadowBlur = 8;
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();
    }
  }

  const fireworks = [];
  function createFirework() {
    const x = Math.random() * canvas.width;
    const y = Math.random() * canvas.height / 2;
    const colors = ['#ff4b1f', '#ff9068', '#ff69b4', '#ff1493', '#ff4500', '#ff6347'];
    const color = colors[Math.floor(Math.random() * colors.length)];
    const particles = [];
    const count = 30 + Math.floor(Math.random() * 20);
    for (let i = 0; i < count; i++) {
      const angle = (Math.PI * 2 / count) * i;
      const speed = 2 + Math.random() * 3;
      particles.push(new Particle(x, y, color, angle, speed));
    }
    fireworks.push(particles);
  }

  function animateFireworks() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let i = fireworks.length - 1; i >= 0; i--) {
      const particles = fireworks[i];
      let allDead = true;
      particles.forEach(p => {
        p.update();
        p.draw(ctx);
        if (p.life > 0) allDead = false;
      });
      if (allDead) {
        fireworks.splice(i, 1);
      }
    }
    if (fireworks.length < 5 && Math.random() < 0.05) {
      createFirework();
    }
    requestAnimationFrame(animateFireworks);
  }

  animateFireworks();
</script>
</body>
</html>
